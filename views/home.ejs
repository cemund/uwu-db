<%- include('./partials/header.ejs') %> <%- include('./partials/header2.ejs') %>

<div class="bg-dark text-light container-fluid py-5">
  <div class="row container-fluid">
    <div class="col-12 col-md-9 container-fluid">
      <div class="row justify-content-between align-items-end mb-4">
        <div class="col"><h2 class="display-1">Filter</h2></div>
        <div class="col-auto">
          <form action="/" method="post">
            <div
              class="d-inline-flex justify-content-between align-items-center gap-2"
            >
              <input type="text" class="form-control" id="search" placeholder=""
              name="search" value="<%= locals.q?q:"" %>" />
              <select
                name="type"
                id="type"
                class="form-select bg-dark text-light"
                style="width: 40%"
              >
                >
                <option value="tv">TV</option>
                <option value="movie">Movie</option>
              </select>
              <select
                name="order_by"
                id="type"
                class="form-select bg-dark text-light"
                style="width: 40%"
              >
                <option value="score">Score</option>
                <option value="title">Title</option>
              </select>

              <button
                type="submit"
                class="btn btn-primary d-flex align-items-center gap-1"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-funnel"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"
                  />
                </svg>
                <span>Filter</span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="row row-cols-auto justify-content-between">
        <% if(locals.data) data.forEach(element => { %>
        <div class="col anime-card">
          <div class="d-flex flex-column align-items-start gap-2">
            <!-- <img src="https://picsum.photos/200/300" alt="random image" /> -->
            <img
              src="<%= element.images.webp.large_image_url %>"
              alt="random image"
              height="300"
              width="180"
            />

            <div class="d-flex align-items-center gap-2 text-warning">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-star-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
                />
              </svg>
              <%= element.score %>
            </div>
            <p class="h-50"><%= element.title %></p>
          </div>
        </div>
        <%}); %>
      </div>
      <div class="row justify-content-end">
        <div class="col-auto">
          <a href="http://"
            ><button class="btn btn-primary">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-caret-left"
                viewBox="0 0 16 16"
              >
                <path
                  d="M10 12.796V3.204L4.519 8zm-.659.753-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753"
                />
              </svg></button
          ></a>
        </div>
        <div class="col-auto">
          <a href="http://"
            ><button class="btn btn-primary">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-caret-right"
                viewBox="0 0 16 16"
              >
                <path
                  d="M6 12.796V3.204L11.481 8zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753"
                />
              </svg></button
          ></a>
        </div>
      </div>
    </div>
    <div class="col-md-3 py-5 d-flex flex-column">
      <div class="d-flex gap-2 align-items-center mb-3">
        <div class="line"></div>
        <h2>Charts</h2>
      </div>

      <div>
        <a href="/top/anime" class="h3"
          >Top Anime
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-chevron-right"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"
            />
          </svg>
        </a>
        <p>Top anime of all the time</p>
      </div>

      <div>
        <a href="/top/manga" class="h3"
          >Top Manga
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-chevron-right"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"
            />
          </svg>
        </a>
        <p>Top manga of all the time</p>
      </div>
    </div>
  </div>
</div>

<%- include('./partials/footer.ejs') %>
